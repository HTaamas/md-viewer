--- 
import { useState } from 'preact/hooks';
import ReactMarkdown from 'react-markdown';
import remarkGfm from 'remark-gfm';
---

<div style="display: flex; height: 100vh;">
  <textarea
    id="editor"
    style="width: 50%; padding: 10px; box-sizing: border-box;"
    placeholder="Write Markdown here..."
    onInput={(e) => setMarkdown(e.target.value)}
  ></textarea>
  <div
    id="preview"
    style="width: 50%; padding: 10px; box-sizing: border-box; overflow-y: auto;"
  >
    <ReactMarkdown remarkPlugins={[remarkGfm]}>
      {markdown}
    </ReactMarkdown>
  </div>
</div>

<script type="module">
  import { useState } from 'preact/hooks';
  import ReactMarkdown from 'react-markdown';
  import remarkGfm from 'remark-gfm';

  export default function MarkdownViewer() {
    const [markdown, setMarkdown] = useState('');

    return (
      <div style={{ display: 'flex', height: '100vh' }}>
        <textarea
          style={{ width: '50%', padding: '10px', boxSizing: 'border-box' }}
          placeholder="Write Markdown here..."
          onInput={(e) => setMarkdown(e.target.value)}
        />
        <div
          style={{ width: '50%', padding: '10px', boxSizing: 'border-box', overflowY: 'auto' }}
        >
          <ReactMarkdown remarkPlugins={[remarkGfm]}>
            {markdown}
          </ReactMarkdown>
        </div>
      </div>
    );
  }
</script>
